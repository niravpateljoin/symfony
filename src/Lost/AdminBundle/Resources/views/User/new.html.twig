{% extends "LostAdminBundle::layout.html.twig" %}

{% block body %}
<!-- Content Header (Page header) -->
<section class="content-header"><h1>Add New Customer</h1></section>
<section class="content">
	<div class="box box-success">
		<form action="{{ path('lost_user_new') }}" method="POST" {{ form_enctype(form) }} class="form-horizontal" id="add_admin_form" novalidate>
		<div class="box-body form-group-section">
			<div class="form-group col-sm-4">
				<label class="control-label">Username: </label>
				<div>
				    {{ form_widget(form.username, { 'attr': { 'placeholder': 'Username', 'class': 'form-control'}}) }}
				    <div class="serverError">{{ form_errors(form.username) }}</div>
				</div>
			</div>
			<div class="form-group col-sm-4">
			    <label class="control-label">Email: </label>
			    <div>
			        {{ form_widget(form.email, { 'attr': { 'placeholder': 'Email Address', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.email) }}</div>
			    </div>
			</div>
            <div class="form-group col-sm-4">
                <label class="control-label">Password: </label>
                <div>
                    {{ form_widget(form.plainPassword.first, { 'attr': { 'placeholder': 'Password', 'class': 'form-control'}}) }}
                    <div class="serverError">{{ form_errors(form.plainPassword.first) }}</div>
                </div>
            </div>
            <div class="form-group col-sm-4">
                <label class="control-label">Confirm Password: </label>
                <div>
                    {{ form_widget(form.plainPassword.second, { 'attr': { 'placeholder': 'Confirm Password', 'class': 'form-control'}}) }}
                    <div class="serverError">{{ form_errors(form.plainPassword.second) }}</div>
                </div>
            </div>
				
			<div class="form-group col-sm-4">
			    <label class="control-label">First Name: </label>
			    <div>
			        {{ form_widget(form.firstname, { 'attr': { 'placeholder': 'First Name', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.firstname) }}</div>
			    </div>
			</div>
				
			<div class="form-group col-sm-4">
			    <label class="control-label">Last Name: </label>
			    <div>
			        {{ form_widget(form.lastname, { 'attr': { 'placeholder': 'Last Name', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.lastname) }}</div>
			    </div>
			</div>
				
			<div class="form-group col-sm-4">
			    <label class="control-label">Phone: </label>
			    <div>
			        {{ form_widget(form.phone, { 'attr': { 'placeholder': 'Phone', 'class': 'form-control', 'maxlength': 10}}) }}
			        <div class="serverError">{{ form_errors(form.phone) }}</div>
			    </div>
			</div>
				
			<div class="form-group col-sm-4">
			    <label class="control-label">Address: </label>
			    <div>
			        {{ form_widget(form.address, { 'attr': { 'placeholder': 'Address', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.address) }}</div>
			    </div>
			</div>
				
			<div class="form-group col-sm-4">
			    <label class="control-label">City: </label>
			    <div>
			        {{ form_widget(form.city, { 'attr': { 'placeholder': 'City', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.city) }}</div>
			    </div>
			</div>
							
			<div class="form-group col-sm-4">
			    <label class="control-label">State: </label>
			    <div>
			        {{ form_widget(form.state, { 'attr': { 'placeholder': 'State', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.state) }}</div>
			    </div>
			</div>
							
			<div class="form-group col-sm-4">
			    <label class="control-label">Zip Code: </label>
			    <div>
			        {{ form_widget(form.zip, { 'attr': { 'placeholder': 'Zip Code', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.zip) }}</div>
			    </div>
			</div>
							
			<div class="form-group col-sm-4">
			    <label class="control-label">Country: </label>
			    <div>
			        {{ form_widget(form.country, { 'attr': { 'placeholder': 'Country', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.country) }}</div>
			    </div>
			</div>
							
			<div class="form-group col-sm-4">
			    <label class="control-label">Active: </label>
			    <div>
			        {{ form_widget(form.enabled, { 'attr': { 'placeholder': 'Active', 'class': 'form-control'}}) }}
			        <div class="serverError">{{ form_errors(form.enabled) }}</div>
			    </div>
			</div>
		</div>
		<div class="box-footer">	
			{{ form_rest(form) }}
			<div class="col-sm-6 add-btn-bx">
			    <div>
			        <input type="submit" name="add" value="Add" class="btn btn-success"/>
			        <a href="{{ path('lost_admin_user_list') }}" class="btn btn-default">Back</a>
			    </div>
			</div>
		</div>	
		</form>
	</div>
</section>   
{% endblock body %}
{% block javascripts %}
    {{ parent() }}

<script type="text/javascript">
    $(document).ready(function() {
        $.validator.addMethod("regex_username", function(value, element, regexpr) {
            return regexpr.test(value);
        }, "Contains chars, number and special chars like -_!#$");

        $.validator.addMethod("regex_password", function(value, element, regexpr) {
            return regexpr.test(value);
        }, "Contains chars, number and special chars like !@#$_");

        $('#add_admin_form').validate({
            rules: {
                "lost_admin_registration[username]": {
                    "required": true,
                    "regex_username": /^[A-Za-z0-9-_!#$]+$/,
                    "minlength": 6,
                    "maxlength": 18,
                },
                "lost_admin_registration[email]": {
                    "required": true,
                    "email": true
                },
                "lost_admin_registration[plainPassword][first]": {
                    "required": true,
                    "regex_password": /^[A-Za-z0-9!@#$_]+$/,
                    "minlength": 8,
                    "maxlength": 18,
                },
                "lost_admin_registration[plainPassword][second]": {
                    "required": true,
                    "equalTo": "#lost_admin_registration_plainPassword_first"
                },
                "lost_admin_registration[phone]": {
                    "required": true,
                    "regex_username": /^[0-9+]+$/,
                    "maxlength": 10
                },
                "lost_admin_registration[firstname]": "required",
                "lost_admin_registration[lastname]": "required",
                "lost_admin_registration[address]": "required",
                "lost_admin_registration[city]": "required",
                "lost_admin_registration[state]": "required",
                "lost_admin_registration[zip]": "required",
                "lost_admin_registration[country]": "required"
            },
            messages: {
                "lost_admin_registration[username]": {
                    "required": "Please enter username.",
                    "minlength": "Your username must have minimum 6 characters.",
                    "maxlength": "Your username can have maximum 18 characters."
                  
                },
                "lost_admin_registration[email]": {
                    "required": "Please enter an email.",
                    "email": "Please enter valid email."
                },
                "lost_admin_registration[plainPassword][first]": {
                    "required": "Please enter password.",
                    "minlength": "Your password must have minimum 8 characters.",
                    "maxlength": "Your password can have maximum 18 characters."
                },
                "lost_admin_registration[plainPassword][second]": {
                    "required": "Please enter confirm password.",
                    "equalTo": "Password does not match the confirm password."
                }, 
                "lost_admin_registration[phone]": {
                    "required": "Please enter phone number.",                    
                    "maxlength": "Phone number must have maximum 10 digit.",
                    "regex_username": "Please enter valid phone number."
                },
                
                "lost_admin_registration[firstname]": "Please enter first name.",
                "lost_admin_registration[lastname]": "Please enter last name.",
                "lost_admin_registration[address]": "Please enter address.",
                "lost_admin_registration[city]": "Please enter city.",
                "lost_admin_registration[state]": "Please enter state.",
                "lost_admin_registration[zip]": "Please enter zip code.",
                "lost_admin_registration[country]": "Please enter country."
            }
        });
    });
</script>

{% endblock javascripts %}